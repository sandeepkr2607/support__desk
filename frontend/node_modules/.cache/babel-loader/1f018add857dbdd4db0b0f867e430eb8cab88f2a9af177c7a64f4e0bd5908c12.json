{"ast":null,"code":"import _defineProperty from\"C:/Users/sandeep singh/Desktop/MY PROJECTS/support-desk/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/sandeep singh/Desktop/MY PROJECTS/support-desk/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/sandeep singh/Desktop/MY PROJECTS/support-desk/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";import{FaSignInAlt}from\"react-icons/fa\";import{toast}from\"react-toastify\";import{useNavigate}from\"react-router-dom\";import{useSelector,useDispatch}from\"react-redux\";import{login,reset}from\"../features/auth/authSlice\";import Spinner from\"../component/Spinner\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Login(){var _useState=useState({email:\"\",password:\"\"}),_useState2=_slicedToArray(_useState,2),formData=_useState2[0],setFormData=_useState2[1];var name=formData.name,email=formData.email,password=formData.password,password2=formData.password2;var Navigate=useNavigate();var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.auth;}),user=_useSelector.user,isError=_useSelector.isError,isLoading=_useSelector.isLoading,isSuccess=_useSelector.isSuccess,message=_useSelector.message;useEffect(function(){if(isError){return toast.error(message);}// Redirect when logged in\nif(isSuccess||user){return Navigate(\"/\");}dispatch(reset());},[isError,isSuccess,dispatch,user,message,Navigate]);var onChange=function onChange(e){setFormData(function(prevState){return _objectSpread(_objectSpread({},prevState),{},_defineProperty({},e.target.name,e.target.value));});};var onSubmit=function onSubmit(e){e.preventDefault();var userData={email:email,password:password};dispatch(login(userData));};if(isLoading){return/*#__PURE__*/_jsx(Spinner,{});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"section\",{className:\"heading\",children:[/*#__PURE__*/_jsxs(\"h1\",{children:[/*#__PURE__*/_jsx(FaSignInAlt,{}),\" Login\"]}),/*#__PURE__*/_jsx(\"p\",{children:\"Please login to get support \"})]}),/*#__PURE__*/_jsx(\"section\",{className:\"form\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",value:email,name:\"email\",onChange:onChange,placeholder:\"Enter your email\",className:\"form-control\",required:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",value:password,name:\"password\",onChange:onChange,placeholder:\"Enter password\",className:\"form-control\",required:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-block\",children:\"Submit\"})})]})})]});}export default Login;","map":{"version":3,"names":["useState","useEffect","FaSignInAlt","toast","useNavigate","useSelector","useDispatch","login","reset","Spinner","Login","email","password","formData","setFormData","name","password2","Navigate","dispatch","state","auth","user","isError","isLoading","isSuccess","message","error","onChange","e","prevState","target","value","onSubmit","preventDefault","userData"],"sources":["C:/Users/sandeep singh/Desktop/MY PROJECTS/support-desk/frontend/src/pages/Login.jsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { FaSignInAlt } from \"react-icons/fa\";\nimport { toast } from \"react-toastify\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { login, reset } from \"../features/auth/authSlice\";\nimport Spinner from \"../component/Spinner\";\nfunction Login() {\n  const [formData, setFormData] = useState({\n    email: \"\",\n    password: \"\",\n  });\n  const { name, email, password, password2 } = formData;\n  const Navigate = useNavigate();\n  const dispatch = useDispatch();\n  const { user, isError, isLoading, isSuccess, message } = useSelector(\n    (state) => state.auth\n  );\n\n  useEffect(() => {\n    if (isError) {\n      return toast.error(message);\n    }\n    // Redirect when logged in\n    if (isSuccess || user) {\n      return Navigate(\"/\");\n    }\n    dispatch(reset());\n  }, [isError, isSuccess, dispatch, user, message, Navigate]);\n\n  const onChange = (e) => {\n    setFormData((prevState) => ({\n      ...prevState,\n      [e.target.name]: e.target.value,\n    }));\n  };\n  const onSubmit = (e) => {\n    e.preventDefault();\n    const userData = {\n      email,\n      password,\n    };\n    dispatch(login(userData));\n  };\n  if (isLoading) {\n   return <Spinner />;\n  }\n  return (\n    <>\n      <section className=\"heading\">\n        <h1>\n          <FaSignInAlt /> Login\n        </h1>\n        <p>Please login to get support </p>\n      </section>\n      <section className=\"form\">\n        <form onSubmit={onSubmit}>\n          <div className=\"form-group\">\n            <input\n              type=\"email\"\n              id=\"email\"\n              value={email}\n              name=\"email\"\n              onChange={onChange}\n              placeholder=\"Enter your email\"\n              className=\"form-control\"\n              required\n            />\n          </div>\n          <div className=\"form-group\">\n            <input\n              type=\"password\"\n              id=\"password\"\n              value={password}\n              name=\"password\"\n              onChange={onChange}\n              placeholder=\"Enter password\"\n              className=\"form-control\"\n              required\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <button className=\"btn btn-block\">Submit</button>\n          </div>\n        </form>\n      </section>\n    </>\n  );\n}\n\nexport default Login;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}