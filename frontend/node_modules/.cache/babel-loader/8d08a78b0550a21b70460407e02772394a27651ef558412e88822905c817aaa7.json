{"ast":null,"code":"import _defineProperty from\"C:/Users/sandeep singh/Desktop/MY PROJECTS/support-desk/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/sandeep singh/Desktop/MY PROJECTS/support-desk/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/sandeep singh/Desktop/MY PROJECTS/support-desk/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";import{FaUser}from\"react-icons/fa\";import{toast}from\"react-toastify\";import{useSelector,useDispatch}from\"react-redux\";import{register,reset}from\"../features/auth/authSlice\";import Spinner from\"../component/Spinner\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Register(){var _useState=useState({name:\"\",email:\"\",password:\"\",password2:\"\"}),_useState2=_slicedToArray(_useState,2),formData=_useState2[0],setFormData=_useState2[1];var name=formData.name,email=formData.email,password=formData.password,password2=formData.password2;// for redux\nvar dispatch=useDispatch();// for selector\nvar _useSelector=useSelector(function(state){return state.auth;}),user=_useSelector.user,isLoading=_useSelector.isLoading,isSuccess=_useSelector.isSuccess,message=_useSelector.message,isError=_useSelector.isError;var Navigate=useNavigate();useEffect(function(){if(isError){return toast.error(message);}// Redirect when logged in\nif(isSuccess||user){return Navigate(\"/\");}dispatch(reset());},[isError,isSuccess,dispatch,user,message,Navigate]);var onChange=function onChange(e){setFormData(function(prevState){return _objectSpread(_objectSpread({},prevState),{},_defineProperty({},e.target.name,e.target.value));});};var onSubmit=function onSubmit(e){e.preventDefault();if(password!==password2){return toast.error(\"Password does not match\");}else{var userData={name:name,email:email,password:password};dispatch(register(userData));}};if(isLoading){return/*#__PURE__*/_jsx(Spinner,{});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"section\",{className:\"heading\",children:[/*#__PURE__*/_jsxs(\"h1\",{children:[/*#__PURE__*/_jsx(FaUser,{}),\" Register\"]}),/*#__PURE__*/_jsx(\"p\",{children:\"Please create an account\"})]}),/*#__PURE__*/_jsx(\"section\",{className:\"form\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"name\",value:name,name:\"name\",onChange:onChange,placeholder:\"Enter your name\",className:\"form-control\",required:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",value:email,name:\"email\",onChange:onChange,placeholder:\"Enter your email\",className:\"form-control\",required:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",value:password,name:\"password\",onChange:onChange,placeholder:\"Enter password\",className:\"form-control\",required:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password2\",value:password2,name:\"password2\",onChange:onChange,placeholder:\"Confirm password\",className:\"form-control\",required:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-block\",children:\"Submit\"})})]})})]});}export default Register;","map":{"version":3,"names":["useState","useEffect","FaUser","toast","useSelector","useDispatch","register","reset","Spinner","useNavigate","Register","name","email","password","password2","formData","setFormData","dispatch","state","auth","user","isLoading","isSuccess","message","isError","Navigate","error","onChange","e","prevState","target","value","onSubmit","preventDefault","userData"],"sources":["C:/Users/sandeep singh/Desktop/MY PROJECTS/support-desk/frontend/src/pages/Register.jsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { FaUser } from \"react-icons/fa\";\nimport { toast } from \"react-toastify\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { register, reset } from \"../features/auth/authSlice\";\nimport Spinner from \"../component/Spinner\";\n\nimport { useNavigate } from \"react-router-dom\";\nfunction Register() {\n  const [formData, setFormData] = useState({\n    name: \"\",\n    email: \"\",\n    password: \"\",\n    password2: \"\",\n  });\n  const { name, email, password, password2 } = formData;\n\n  // for redux\n\n  const dispatch = useDispatch();\n\n  // for selector\n  const { user, isLoading, isSuccess, message, isError } = useSelector(\n    (state) => state.auth\n  );\n  const Navigate = useNavigate();\n\n  useEffect(() => {\n    if (isError) {\n      return toast.error(message);\n    }\n    // Redirect when logged in\n    if (isSuccess || user) {\n      return Navigate(\"/\");\n    }\n    dispatch(reset());\n  }, [isError, isSuccess, dispatch, user, message, Navigate]);\n\n  const onChange = (e) => {\n    setFormData((prevState) => ({\n      ...prevState,\n      [e.target.name]: e.target.value,\n    }));\n  };\n  const onSubmit = (e) => {\n    e.preventDefault();\n    if (password !== password2) {\n      return toast.error(\"Password does not match\");\n    } else {\n      const userData = {\n        name,\n        email,\n        password,\n      };\n      dispatch(register(userData));\n    }\n  };\n  if (isLoading) {\n    return <Spinner />;\n  }\n  return (\n    <>\n      <section className=\"heading\">\n        <h1>\n          <FaUser /> Register\n        </h1>\n        <p>Please create an account</p>\n      </section>\n      <section className=\"form\">\n        <form onSubmit={onSubmit}>\n          <div className=\"form-group\">\n            <input\n              type=\"text\"\n              id=\"name\"\n              value={name}\n              name=\"name\"\n              onChange={onChange}\n              placeholder=\"Enter your name\"\n              className=\"form-control\"\n              required\n            />\n          </div>\n          <div className=\"form-group\">\n            <input\n              type=\"email\"\n              id=\"email\"\n              value={email}\n              name=\"email\"\n              onChange={onChange}\n              placeholder=\"Enter your email\"\n              className=\"form-control\"\n              required\n            />\n          </div>\n          <div className=\"form-group\">\n            <input\n              type=\"password\"\n              id=\"password\"\n              value={password}\n              name=\"password\"\n              onChange={onChange}\n              placeholder=\"Enter password\"\n              className=\"form-control\"\n              required\n            />\n          </div>\n          <div className=\"form-group\">\n            <input\n              type=\"password\"\n              id=\"password2\"\n              value={password2}\n              name=\"password2\"\n              onChange={onChange}\n              placeholder=\"Confirm password\"\n              className=\"form-control\"\n              required\n            />\n          </div>\n          <div className=\"form-group\">\n            <button className=\"btn btn-block\">Submit</button>\n          </div>\n        </form>\n      </section>\n    </>\n  );\n}\n\nexport default Register;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}