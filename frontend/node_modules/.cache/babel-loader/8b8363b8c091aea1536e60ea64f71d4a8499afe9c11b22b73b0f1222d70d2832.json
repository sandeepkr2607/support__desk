{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/sandeep singh/Desktop/MY PROJECTS/support-desk/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/sandeep singh/Desktop/MY PROJECTS/support-desk/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{createAsyncThunk,createSlice}from'@reduxjs/toolkit';import noteService from'./noteService';var initialState={notes:[],isError:false,isSuccess:false,isLoading:false,message:\"\"};// Get Ticket notes\nexport var getNotes=createAsyncThunk('notes/getAll',/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(ticketId,thunkAPI){var token,message;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;token=thunkAPI.getState().auth.user.token;// console.log(token);\n_context.next=4;return noteService.getNotes(ticketId,token);case 4:return _context.abrupt(\"return\",_context.sent);case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);message=_context.t0.response&&_context.t0.response.data&&_context.t0.response.data.message||_context.t0.message||_context.t0.toString();return _context.abrupt(\"return\",thunkAPI.rejectWithValue(message));case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function(_x,_x2){return _ref.apply(this,arguments);};}());// create Ticket notes\nexport var createNotes=createAsyncThunk('notes/create',/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(_ref2,thunkAPI){var noteText,ticketId,token,message;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:noteText=_ref2.noteText,ticketId=_ref2.ticketId;_context2.prev=1;token=thunkAPI.getState().auth.user.token;// console.log(token);\n_context2.next=5;return noteService.createNotes(noteText,ticketId,token);case 5:return _context2.abrupt(\"return\",_context2.sent);case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](1);message=_context2.t0.response&&_context2.t0.response.data&&_context2.t0.response.data.message||_context2.t0.message||_context2.t0.toString();return _context2.abrupt(\"return\",thunkAPI.rejectWithValue(message));case 12:case\"end\":return _context2.stop();}}},_callee2,null,[[1,8]]);}));return function(_x3,_x4){return _ref3.apply(this,arguments);};}());export var noteSlice=createSlice({name:'note',initialState:initialState,reducers:{reset:function reset(state){return initialState;}},extraReducers:function extraReducers(builder){builder// get notes\n.addCase(getNotes.pending,function(state){state.isLoading=true;}).addCase(getNotes.fulfilled,function(state,action){state.isLoading=false;state.isSuccess=true;state.notes=action.payload;}).addCase(getNotes.rejected,function(state,action){state.isLoading=false;state.isError=true;state.message=action.payload;})// create notes\n.addCase(createNotes.pending,function(state){state.isLoading=true;}).addCase(createNotes.fulfilled,function(state,action){state.isLoading=false;state.isSuccess=true;state.notes.push(action.payload);}).addCase(createNotes.rejected,function(state,action){state.isLoading=false;state.isError=true;state.message=action.payload;});}});var reset=noteSlice.actions.reset;export{reset};export default noteSlice.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","noteService","initialState","notes","isError","isSuccess","isLoading","message","getNotes","ticketId","thunkAPI","token","getState","auth","user","response","data","toString","rejectWithValue","createNotes","noteText","noteSlice","name","reducers","reset","state","extraReducers","builder","addCase","pending","fulfilled","action","payload","rejected","push","actions","reducer"],"sources":["C:/Users/sandeep singh/Desktop/MY PROJECTS/support-desk/frontend/src/features/note/noteSlice.js"],"sourcesContent":["import { createAsyncThunk, createSlice } from '@reduxjs/toolkit'\nimport noteService from './noteService';\nconst initialState = {\n    notes: [],\n    isError: false,\n    isSuccess: false,\n    isLoading: false,\n    message: \"\"\n}\n\n// Get Ticket notes\nexport const getNotes = createAsyncThunk(\n    'notes/getAll',\n    async (ticketId, thunkAPI) => {\n        try {\n            const token = thunkAPI.getState().auth.user.token\n            // console.log(token);\n            return await noteService.getNotes(ticketId, token)\n        } catch (error) {\n            const message = (error.response && error.response.data && error.response.data.message) || error.message || error.toString()\n\n            return thunkAPI.rejectWithValue(message)\n        }\n    }\n)\n\n// create Ticket notes\nexport const createNotes = createAsyncThunk(\n    'notes/create',\n    async ({ noteText, ticketId }, thunkAPI) => {\n        try {\n            const token = thunkAPI.getState().auth.user.token\n            // console.log(token);\n            return await noteService.createNotes(noteText, ticketId, token)\n        } catch (error) {\n            const message = (error.response && error.response.data && error.response.data.message) || error.message || error.toString()\n\n            return thunkAPI.rejectWithValue(message)\n        }\n    }\n)\n\n\nexport const noteSlice = createSlice({\n    name: 'note',\n    initialState,\n    reducers: {\n        reset: (state) => initialState\n    },\n    extraReducers: (builder) => {\n        builder\n            // get notes\n            .addCase(getNotes.pending, (state) => {\n                state.isLoading = true\n            })\n            .addCase(getNotes.fulfilled, (state, action) => {\n                state.isLoading = false\n                state.isSuccess = true\n                state.notes = action.payload\n            })\n            .addCase(getNotes.rejected, (state, action) => {\n                state.isLoading = false\n                state.isError = true\n                state.message = action.payload\n            })\n            // create notes\n            .addCase(createNotes.pending, (state) => {\n                state.isLoading = true\n            })\n            .addCase(createNotes.fulfilled, (state, action) => {\n                state.isLoading = false\n                state.isSuccess = true\n                state.notes.push(action.payload)\n            })\n            .addCase(createNotes.rejected, (state, action) => {\n                state.isLoading = false\n                state.isError = true\n                state.message = action.payload\n            })\n    }\n\n})\n\nexport const { reset } = noteSlice.actions\nexport default noteSlice.reducer\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}