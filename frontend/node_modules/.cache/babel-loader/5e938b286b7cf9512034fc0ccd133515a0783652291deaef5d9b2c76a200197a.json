{"ast":null,"code":"import _slicedToArray from\"C:/Users/sandeep singh/Desktop/MY PROJECTS/support-desk/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{useState,useEffect}from\"react\";import{useSelector,useDispatch}from\"react-redux\";import{useNavigate}from\"react-router-dom\";import{toast}from\"react-toastify\";import{createTicket,reset}from\"../features/tickets/ticketSlice\";import Spinner from\"../component/Spinner\";import BackButton from\"../component/BackButton\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function NewTicket(){var _useSelector=useSelector(function(state){return state.auth;}),user=_useSelector.user;var _useSelector2=useSelector(function(state){return state.ticket;}),isLoading=_useSelector2.isLoading,isError=_useSelector2.isError,isSuccess=_useSelector2.isSuccess,message=_useSelector2.message;var _useState=useState(user.name),_useState2=_slicedToArray(_useState,1),name=_useState2[0];var _useState3=useState(user.email),_useState4=_slicedToArray(_useState3,1),email=_useState4[0];var _useState5=useState(\"iPhone\"),_useState6=_slicedToArray(_useState5,2),product=_useState6[0],setProduct=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),description=_useState8[0],setDescription=_useState8[1];var dispatch=useDispatch();var Navigate=useNavigate();useEffect(function(){if(isError){toast.error(message);}if(isSuccess){dispatch(reset());Navigate(\"/tickets\");}dispatch(reset());},[dispatch,isError,isSuccess,Navigate,message]);var onSubmit=function onSubmit(e){e.preventDefault();dispatch(createTicket({product:product,description:description}));};if(isLoading){return/*#__PURE__*/_jsx(Spinner,{});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(BackButton,{url:\"/\"}),/*#__PURE__*/_jsxs(\"section\",{className:\"heading\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Create New Ticket\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Please fill out the form below\"})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"Customer Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",value:name,disabled:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Customer Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control\",value:email,disabled:true})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"product\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"product\",id:\"product\",value:product,onChange:function onChange(e){return setProduct(e.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"iPhone\",children:\"iPhone\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Macbook Pro\",children:\"Macbook Pro\"}),/*#__PURE__*/_jsx(\"option\",{value:\"iMac\",children:\"iMac\"}),/*#__PURE__*/_jsx(\"option\",{value:\"iPad\",children:\"iPad\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",children:\"Description of the issue\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"description\",id:\"description\",value:description,onChange:function onChange(e){return setDescription(e.target.value);},style:{resize:\"none\"}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-block\",children:\"Submit\"})})]})]})]});}export default NewTicket;","map":{"version":3,"names":["React","useState","useEffect","useSelector","useDispatch","useNavigate","toast","createTicket","reset","Spinner","BackButton","NewTicket","state","auth","user","ticket","isLoading","isError","isSuccess","message","name","email","product","setProduct","description","setDescription","dispatch","Navigate","error","onSubmit","e","preventDefault","target","value","resize"],"sources":["C:/Users/sandeep singh/Desktop/MY PROJECTS/support-desk/frontend/src/pages/NewTicket.jsx"],"sourcesContent":["import React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { useNavigate } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport { createTicket, reset } from \"../features/tickets/ticketSlice\";\nimport Spinner from \"../component/Spinner\";\nimport BackButton from \"../component/BackButton\";\n\nfunction NewTicket() {\n  const { user } = useSelector((state) => state.auth);\n  const { isLoading, isError, isSuccess, message } = useSelector(\n    (state) => state.ticket\n  );\n  const [name] = useState(user.name);\n  const [email] = useState(user.email);\n  const [product, setProduct] = useState(\"iPhone\");\n  const [description, setDescription] = useState(\"\");\n\n  const dispatch = useDispatch();\n  const Navigate = useNavigate();\n\n  useEffect(() => {\n    if (isError) {\n      toast.error(message);\n    }\n    if (isSuccess) {\n      dispatch(reset());\n      Navigate(\"/tickets\");\n    }\n    dispatch(reset());\n  }, [dispatch, isError, isSuccess, Navigate, message]);\n\n  const onSubmit = (e) => {\n    e.preventDefault();\n\n    dispatch(createTicket({ product, description }));\n  };\n  if (isLoading) {\n    return <Spinner />;\n  }\n  return (\n    <>\n      <BackButton url=\"/\" />\n      <section className=\"heading\">\n        <h1>Create New Ticket</h1>\n        <p>Please fill out the form below</p>\n      </section>\n      <section className=\"form\">\n        <div className=\"form-group\">\n          <label htmlFor=\"name\">Customer Name</label>\n          <input type=\"text\" className=\"form-control\" value={name} disabled />\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"email\">Customer Email</label>\n          <input type=\"email\" className=\"form-control\" value={email} disabled />\n        </div>\n        <form onSubmit={onSubmit}>\n          <div className=\"form-group\">\n            <label htmlFor=\"product\"></label>\n            <select\n              name=\"product\"\n              id=\"product\"\n              value={product}\n              onChange={(e) => setProduct(e.target.value)}\n            >\n              <option value=\"iPhone\">iPhone</option>\n              <option value=\"Macbook Pro\">Macbook Pro</option>\n              <option value=\"iMac\">iMac</option>\n              <option value=\"iPad\">iPad</option>\n            </select>\n          </div>\n          <div className=\"form-group\">\n            <label htmlFor=\"description\">Description of the issue</label>\n            <textarea\n              name=\"description\"\n              id=\"description\"\n              value={description}\n              onChange={(e) => setDescription(e.target.value)}\n              style={{ resize: \"none\" }}\n            ></textarea>\n          </div>\n          <div className=\"form-group\">\n            <button className=\"btn btn-block\">Submit</button>\n          </div>\n        </form>\n      </section>\n    </>\n  );\n}\n\nexport default NewTicket;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}